{"version":3,"sources":["webpack:///./src/views/Pages/Request.vue?24a0","webpack:///src/views/Pages/Request.vue","webpack:///./src/views/Pages/Request.vue?eb77","webpack:///./src/views/Pages/Request.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","ref","scopedSlots","_u","key","fn","handleSubmit","on","$event","preventDefault","onSubmit","required","validatingCall","model","value","callback","$$v","steamUrl","expression","domProps","_s","successMessage","_e","error","formValid","mapStatus","staticRenderFns","components","MapStatusList","MapStatusCard","data","urlValid","computed","watch","steamId","MapStatusService","methods","getSteamIdFromUrl","includes","substring","indexOf","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,mDAAmD,CAACF,EAAG,cAAc,CAACA,EAAG,MAAM,CAACE,YAAY,gCAAgC,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0B,CAACF,EAAG,QAAQ,CAACE,YAAY,OAAOC,MAAM,CAAC,GAAK,IAAI,GAAK,IAAI,GAAK,MAAM,CAACH,EAAG,KAAK,CAACE,YAAY,cAAc,CAACN,EAAIQ,GAAG,oBAAoBJ,EAAG,IAAI,CAACE,YAAY,wBAAwB,CAACN,EAAIQ,GAAG,oIAAoI,IAAI,KAAKJ,EAAG,MAAM,CAACE,YAAY,wDAAwD,CAACF,EAAG,MAAM,CAACG,MAAM,CAAC,EAAI,IAAI,EAAI,IAAI,QAAU,eAAe,oBAAsB,OAAO,QAAU,MAAM,MAAQ,+BAA+B,CAACH,EAAG,UAAU,CAACE,YAAY,eAAeC,MAAM,CAAC,OAAS,gCAAgC,GAAGH,EAAG,cAAc,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0B,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,GAAK,IAAI,GAAK,MAAM,CAACH,EAAG,SAAS,CAACE,YAAY,6BAA6BC,MAAM,CAAC,UAAU,KAAK,CAACH,EAAG,gBAAgB,CAACE,YAAY,uBAAuB,CAACF,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACN,EAAIQ,GAAG,8CAA8CJ,EAAG,sBAAsB,CAACK,IAAI,gBAAgBC,YAAYV,EAAIW,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASJ,GAC73C,IAAIK,EAAeL,EAAIK,aACvB,MAAO,CAACV,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,QAAQQ,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBH,EAAad,EAAIkB,aAAa,CAACd,EAAG,aAAa,CAACE,YAAY,OAAOC,MAAM,CAAC,YAAc,GAAG,KAAO,aAAa,MAAQ,CAACY,UAAU,GAAM,eAAe,aAAa,YAAc,aAAa,SAAWnB,EAAIoB,gBAAgBC,MAAM,CAACC,MAAOtB,EAAY,SAAEuB,SAAS,SAAUC,GAAMxB,EAAIyB,SAASD,GAAKE,WAAW,cAAe1B,EAAkB,eAAEI,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,GAAG,QAAU,YAAY,CAACH,EAAG,OAAO,CAACE,YAAY,cAAc,CAACF,EAAG,IAAI,CAACE,YAAY,mBAAmBF,EAAG,OAAO,CAACE,YAAY,aAAaqB,SAAS,CAAC,UAAY3B,EAAI4B,GAAG5B,EAAI6B,qBAAqB7B,EAAI8B,KAAM9B,EAAS,MAAEI,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,GAAG,YAAc,GAAG,QAAU,WAAW,CAACH,EAAG,OAAO,CAACE,YAAY,cAAc,CAACF,EAAG,IAAI,CAACE,YAAY,wBAAwBF,EAAG,OAAO,CAACE,YAAY,cAAc,CAACF,EAAG,SAAS,CAACJ,EAAIQ,GAAG,YAAYR,EAAIQ,GAAG,IAAIR,EAAI4B,GAAG5B,EAAI+B,YAAY/B,EAAI8B,KAAK1B,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,cAAc,CAACE,YAAY,OAAOC,MAAM,CAAC,KAAO,UAAU,cAAc,SAAS,UAAYP,EAAIgC,YAAY,CAAChC,EAAIQ,GAAG,mBAAmB,IAAI,WAAW,IAAI,GAAIR,EAAa,UAAEI,EAAG,kBAAkB,CAACE,YAAY,OAAOC,MAAM,CAAC,UAAYP,EAAIiC,aAAajC,EAAI8B,MAAM,IAAI,IAAI,IAAI,IAC5uCI,EAAkB,G,0DCmEtB,GACEC,WAAY,CACVC,cAAJ,OACIC,cAAJ,QAEEC,KALF,WAMI,MAAO,CACLb,SAAU,GACVI,eAAgB,GAChBE,MAAO,GACPQ,UAAU,EACVnB,gBAAgB,EAChBa,UAAW,OAGfO,SAAU,CACRR,UADJ,WAEM,SAAK/B,KAAKwB,WAAaxB,KAAKsC,YAKhCE,MAAO,CACLhB,SADJ,WACA,WACMxB,KAAKsC,UAAW,EAChBtC,KAAKgC,UAAY,KACjBhC,KAAKmB,gBAAiB,EACtBnB,KAAK4B,eAAiB,GACtB5B,KAAK8B,MAAQ,GAEb,IAAN,2BAEWW,EAKLC,EAAN,qBACA,kBACA,GACU,EAAV,qEACU,EAAV,aAGA,cACQ,EAAR,qBAEA,mBACQ,EAAR,qBAfQ1C,KAAKmB,gBAAiB,IAmB5BwB,QAAS,CACPC,kBADJ,WAEM,IAAK5C,KAAKwB,SAASqB,SAAS,kDAAoD7C,KAAKwB,SAASqB,SAAS,OACrG,OAAO,KAGT,IAAN,iCACA,6BAKM,OAJIJ,EAAQI,SAAS,OACnBJ,EAAUA,EAAQK,UAAU,EAAGL,EAAQM,QAAQ,OAG1CN,GAETxB,SAdJ,WAcA,WACMjB,KAAKmB,gBAAiB,EAEtB,IAAN,2BAEWsB,EAKLC,EAAN,+BACA,kBACQ,EAAR,YACQ,EAAR,oEACQ,EAAR,qBAEA,mBACQ,EAAR,oCACQ,EAAR,qBAZQ1C,KAAKmB,gBAAiB,KC9IkU,I,YCO5V6B,EAAY,eACd,EACAlD,EACAmC,GACA,EACA,KACA,KACA,MAIa,aAAAe,E","file":"js/chunk-2d0bdd26.7b156ae8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"header bg-gradient-success py-5 py-lg-6 pt-lg-7\"},[_c('b-container',[_c('div',{staticClass:\"header-body text-center mb-7\"},[_c('b-row',{staticClass:\"justify-content-center\"},[_c('b-col',{staticClass:\"px-4\",attrs:{\"xl\":\"6\",\"lg\":\"7\",\"md\":\"8\"}},[_c('h1',{staticClass:\"text-white\"},[_vm._v(\"Request A Map!\")]),_c('p',{staticClass:\"text-lead text-white\"},[_vm._v(\"There's a big chance you are looking for an item we don't have in our database. Give the URL and we'll add it to the queue.\")])])],1)],1)]),_c('div',{staticClass:\"separator separator-bottom separator-skew zindex-100\"},[_c('svg',{attrs:{\"x\":\"0\",\"y\":\"0\",\"viewBox\":\"0 0 2560 100\",\"preserveAspectRatio\":\"none\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('polygon',{staticClass:\"fill-default\",attrs:{\"points\":\"2560 0 2560 100 0 100\"}})])])],1),_c('b-container',{staticClass:\"mt--6 pb-5\"},[_c('b-row',{staticClass:\"justify-content-center\"},[_c('b-col',{attrs:{\"lg\":\"5\",\"md\":\"7\"}},[_c('b-card',{staticClass:\"bg-secondary border-0 mb-0\",attrs:{\"no-body\":\"\"}},[_c('b-card-header',{staticClass:\"bg-transparent pb-5\"},[_c('div',{staticClass:\"text-center mt-2 mb-3\"},[_vm._v(\"Give the link of the workshop item page.\")]),_c('validation-observer',{ref:\"formValidator\",scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar handleSubmit = ref.handleSubmit;\nreturn [_c('b-form',{attrs:{\"role\":\"form\"},on:{\"submit\":function($event){$event.preventDefault();return handleSubmit(_vm.onSubmit)}}},[_c('base-input',{staticClass:\"mb-3\",attrs:{\"alternative\":\"\",\"name\":\"Steam link\",\"rules\":{required: true},\"prepend-icon\":\"fa fa-link\",\"placeholder\":\"Steam link\",\"disabled\":_vm.validatingCall},model:{value:(_vm.steamUrl),callback:function ($$v) {_vm.steamUrl=$$v},expression:\"steamUrl\"}}),(_vm.successMessage)?_c('b-alert',{attrs:{\"show\":\"\",\"variant\":\"success\"}},[_c('span',{staticClass:\"alert-icon\"},[_c('i',{staticClass:\"ni ni-like-2\"})]),_c('span',{staticClass:\"alert-text\",domProps:{\"innerHTML\":_vm._s(_vm.successMessage)}})]):_vm._e(),(_vm.error)?_c('b-alert',{attrs:{\"show\":\"\",\"dismissible\":\"\",\"variant\":\"danger\"}},[_c('span',{staticClass:\"alert-icon\"},[_c('i',{staticClass:\"fa fa-exclamation\"})]),_c('span',{staticClass:\"alert-text\"},[_c('strong',[_vm._v(\"Error!\")]),_vm._v(\" \"+_vm._s(_vm.error))])]):_vm._e(),_c('div',{staticClass:\"text-center\"},[_c('base-button',{staticClass:\"my-4\",attrs:{\"type\":\"primary\",\"native-type\":\"submit\",\"disabled\":!_vm.formValid}},[_vm._v(\"Request Item\")])],1)],1)]}}])})],1)],1),(_vm.mapStatus)?_c('map-status-card',{staticClass:\"mt-3\",attrs:{\"mapStatus\":_vm.mapStatus}}):_vm._e()],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!-- Header -->\n    <div class=\"header bg-gradient-success py-5 py-lg-6 pt-lg-7\">\n      <b-container>\n        <div class=\"header-body text-center mb-7\">\n          <b-row class=\"justify-content-center\">\n            <b-col xl=\"6\" lg=\"7\" md=\"8\" class=\"px-4\">\n              <h1 class=\"text-white\">Request A Map!</h1>\n              <p class=\"text-lead text-white\">There's a big chance you are looking for an item we don't have in our database. Give the URL and we'll add it to the queue.</p>\n            </b-col>\n          </b-row>\n        </div>\n      </b-container>\n      <div class=\"separator separator-bottom separator-skew zindex-100\">\n        <svg x=\"0\" y=\"0\" viewBox=\"0 0 2560 100\" preserveAspectRatio=\"none\" version=\"1.1\"\n             xmlns=\"http://www.w3.org/2000/svg\">\n          <polygon class=\"fill-default\" points=\"2560 0 2560 100 0 100\"></polygon>\n        </svg>\n      </div>\n    </div>\n\n    <b-container class=\"mt--6 pb-5\">\n      <b-row class=\"justify-content-center\">\n        <b-col lg=\"5\" md=\"7\">\n          <b-card no-body class=\"bg-secondary border-0 mb-0\">\n            <b-card-header class=\"bg-transparent pb-5\"  >\n              <div class=\"text-center mt-2 mb-3\">Give the link of the workshop item page.</div>\n              <validation-observer v-slot=\"{handleSubmit}\" ref=\"formValidator\">\n                <b-form role=\"form\" @submit.prevent=\"handleSubmit(onSubmit)\">\n                  <base-input alternative\n                    class=\"mb-3\"\n                    name=\"Steam link\"\n                    :rules=\"{required: true}\"\n                    prepend-icon=\"fa fa-link\"\n                    placeholder=\"Steam link\"\n                    :disabled=\"validatingCall\"\n                    v-model.lazy=\"steamUrl\">\n                  </base-input>\n                  <b-alert show variant=\"success\" v-if=\"successMessage\">\n                    <span class=\"alert-icon\"><i class=\"ni ni-like-2\"></i></span>\n                    <span class=\"alert-text\" v-html=\"successMessage\"></span>\n                  </b-alert>\n                  <b-alert show dismissible variant=\"danger\" v-if=\"error\">\n                    <span class=\"alert-icon\"><i class=\"fa fa-exclamation\"></i></span>\n                    <span class=\"alert-text\"><strong>Error!</strong> {{error}}</span>\n                  </b-alert>\n                  <div class=\"text-center\">\n                    <base-button type=\"primary\" native-type=\"submit\" class=\"my-4\" :disabled=\"!formValid\">Request Item</base-button>\n                  </div>\n                </b-form>\n              </validation-observer>\n            </b-card-header>\n          </b-card>\n          <map-status-card\n            class=\"mt-3\"\n            v-if=\"mapStatus\"\n            :mapStatus=\"mapStatus\"\n          />\n        </b-col>\n      </b-row>\n    </b-container>\n  </div>\n</template>\n\n<script>\nimport MapStatusList from '../../components/IsThisMapSafe/MapStatusList.vue'\nimport MapStatusService from '../../services/MapStatusService'\nimport MapStatusCard from '../../components/IsThisMapSafe/MapStatusCard.vue'\n\nexport default {\n  components: {\n    MapStatusList,\n    MapStatusCard,\n  },\n  data() {\n    return {\n      steamUrl: '',\n      successMessage: '',\n      error: '',\n      urlValid: false,\n      validatingCall: false,\n      mapStatus: null,\n    }\n  },\n  computed: {\n    formValid() {\n      if (!this.steamUrl || !this.urlValid)\n        return false\n      return true;\n    }\n  },\n  watch: {\n    steamUrl() {\n      this.urlValid = false;\n      this.mapStatus = null;\n      this.validatingCall = true;\n      this.successMessage = '';\n      this.error = '';\n\n      const steamId = this.getSteamIdFromUrl()\n\n      if (!steamId) {\n        this.validatingCall = false;\n        return;\n      }\n\n      MapStatusService.getMapStatus(steamId)\n        .then(mapStatus => {\n          if (mapStatus) {\n            this.successMessage = '<strong>Success!</strong> This item already exists!'\n            this.mapStatus = mapStatus;\n          }\n          else\n            this.urlValid = true;\n          this.validatingCall = false;\n        })\n        .catch(err => {\n          this.validatingCall = false;\n        })\n    }\n  },\n  methods: {\n    getSteamIdFromUrl() {\n      if (!this.steamUrl.includes('steamcommunity.com/sharedfiles/filedetails/?') || !this.steamUrl.includes('id=')) {\n        return null;\n      }\n\n      const idIndex = this.steamUrl.indexOf('id=') + 3;\n      let steamId = this.steamUrl.substring(idIndex);\n      if (steamId.includes('&')) {\n        steamId = steamId.substring(0, steamId.indexOf('&'))\n      }\n\n      return steamId;\n    },\n    onSubmit() {\n      this.validatingCall = true;\n\n      const steamId = this.getSteamIdFromUrl()\n\n      if (!steamId) {\n        this.validatingCall = false;\n        return;\n      }\n\n      MapStatusService.createMapStatusRequest(steamId)\n        .then(mapStatus => {\n          this.mapStatus = mapStatus;\n          this.successMessage = '<strong>Success!</strong> Added item to the queue!'\n          this.validatingCall = false;\n        })\n        .catch(err => {\n          this.error = err.response.data.error.message;\n          this.validatingCall = false;\n        })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Request.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Request.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Request.vue?vue&type=template&id=5516d237&\"\nimport script from \"./Request.vue?vue&type=script&lang=js&\"\nexport * from \"./Request.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}