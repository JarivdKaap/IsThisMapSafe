(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bdd26"],{"2e41":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("div",{staticClass:"header bg-gradient-success py-5 py-lg-6 pt-lg-7"},[s("b-container",[s("div",{staticClass:"header-body text-center mb-7"},[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{staticClass:"px-4",attrs:{xl:"6",lg:"7",md:"8"}},[s("h1",{staticClass:"text-white"},[t._v("Request A Map!")]),s("p",{staticClass:"text-lead text-white"},[t._v("There's a big chance you are looking for an item we don't have in our database. Give the URL and we'll add it to the queue.")])])],1)],1)]),s("div",{staticClass:"separator separator-bottom separator-skew zindex-100"},[s("svg",{attrs:{x:"0",y:"0",viewBox:"0 0 2560 100",preserveAspectRatio:"none",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[s("polygon",{staticClass:"fill-default",attrs:{points:"2560 0 2560 100 0 100"}})])])],1),s("b-container",{staticClass:"mt--6 pb-5"},[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{lg:"5",md:"7"}},[s("b-card",{staticClass:"bg-secondary border-0 mb-0",attrs:{"no-body":""}},[s("b-card-header",{staticClass:"bg-transparent pb-5"},[s("div",{staticClass:"text-center mt-2 mb-3"},[t._v("Give the link of the workshop item page.")]),s("validation-observer",{ref:"formValidator",scopedSlots:t._u([{key:"default",fn:function(a){var e=a.handleSubmit;return[s("b-form",{attrs:{role:"form"},on:{submit:function(a){return a.preventDefault(),e(t.onSubmit)}}},[s("base-input",{staticClass:"mb-3",attrs:{alternative:"",name:"Steam link",rules:{required:!0},"prepend-icon":"fa fa-link",placeholder:"Steam link",disabled:t.validatingCall},model:{value:t.steamUrl,callback:function(a){t.steamUrl=a},expression:"steamUrl"}}),t.successMessage?s("b-alert",{attrs:{show:"",variant:"success"}},[s("span",{staticClass:"alert-icon"},[s("i",{staticClass:"ni ni-like-2"})]),s("span",{staticClass:"alert-text",domProps:{innerHTML:t._s(t.successMessage)}})]):t._e(),t.error?s("b-alert",{attrs:{show:"",dismissible:"",variant:"danger"}},[s("span",{staticClass:"alert-icon"},[s("i",{staticClass:"fa fa-exclamation"})]),s("span",{staticClass:"alert-text"},[s("strong",[t._v("Error!")]),t._v(" "+t._s(t.error))])]):t._e(),s("div",{staticClass:"text-center"},[s("base-button",{staticClass:"my-4",attrs:{type:"primary","native-type":"submit",disabled:!t.formValid}},[t._v("Request Item")])],1)],1)]}}])})],1)],1),t.mapStatus?s("map-status-card",{staticClass:"mt-3",attrs:{mapStatus:t.mapStatus}}):t._e()],1)],1)],1)],1)},i=[],r=(s("6762"),s("2fdb"),s("6d4a")),l=s("b87d"),n=s("16e1"),o={components:{MapStatusList:r["a"],MapStatusCard:n["a"]},data:function(){return{steamUrl:"",successMessage:"",error:"",urlValid:!1,validatingCall:!1,mapStatus:null}},computed:{formValid:function(){return!(!this.steamUrl||!this.urlValid)}},watch:{steamUrl:function(){var t=this;this.urlValid=!1,this.mapStatus=null,this.validatingCall=!0,this.successMessage="",this.error="";var a=this.getSteamIdFromUrl();a?l["a"].getMapStatus(a).then((function(a){a?(t.successMessage="<strong>Success!</strong> This item already exists!",t.mapStatus=a):t.urlValid=!0,t.validatingCall=!1})).catch((function(a){t.validatingCall=!1})):this.validatingCall=!1}},methods:{getSteamIdFromUrl:function(){if(!this.steamUrl.includes("steamcommunity.com/sharedfiles/filedetails/?")||!this.steamUrl.includes("id="))return null;var t=this.steamUrl.indexOf("id=")+3,a=this.steamUrl.substring(t);return a.includes("&")&&(a=a.substring(0,a.indexOf("&"))),a},onSubmit:function(){var t=this;this.validatingCall=!0;var a=this.getSteamIdFromUrl();a?l["a"].createMapStatusRequest(a).then((function(a){t.mapStatus=a,t.successMessage="<strong>Success!</strong> Added item to the queue!",t.validatingCall=!1})).catch((function(a){t.error=a.response.data.error.message,t.validatingCall=!1})):this.validatingCall=!1}}},c=o,d=s("2877"),u=Object(d["a"])(c,e,i,!1,null,null,null);a["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0bdd26.7b156ae8.js.map